<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>app demo</title>
    <link rel="stylesheet" type="text/css" href="../dist/css/km.css" />
    <script type="text/javascript" src="./vendor/require/require.js"></script>
    <script type="text/javascript" src="./main.js"></script>
</head>
<body>
    <div id="app"></div>


    <script type="text/javascript">
        require(['km'], function (km) {
            var App   = km.App;
            var Index = App.View.extend({
                initialize: function($el, app){
                    this.superclass.initialize.call(this, $el, app);
                    this.$el.html('<a href="#/test">test</a> <a href="#/index/xxoo">test2</a>'); 
                },
                run: function(context){
                    this.superclass.run.call(this, context);
                    console.log(context);
                }
            });

            var Test = App.View.extend({
                initialize: function($el, app){
                    this.superclass.initialize.call(this, $el, app);
                    this.$el.html('<a href="#/">返回</a>'); 
                },
            });

            var app = new App($('#app'));
            
            app.route('/', Index)
               .route('/index/{id}', Index)
               .route('/test', Test)
               .run();
        });
    </script>
</body>
</html>